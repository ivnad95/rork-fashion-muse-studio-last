import google.generativeai as genai
import os

def generate_readme():
    try:
        # Configure the Gemini API client
        genai.configure(api_key=os.environ["GEMINI_API_KEY"])
        model = genai.GenerativeModel("gemini-1.5-flash")

        # Read the existing README.md content
        with open("/home/ubuntu/FashionMuseRN/README.md", "r") as f:
            readme_content = f.read()

        # Create the prompt for Gemini
        prompt = f"""
As an expert technical writer, your task is to refine and enhance the following README.md for the Fashion Muse Studio React Native app. Your goal is to make it more comprehensive, professional, and appealing to developers, while maintaining the existing structure.

**Key areas to improve:**

1.  **Introduction:** Rewrite the introduction to be more engaging and highlight the app's value proposition.
2.  **Features:** Expand the feature list with more detail and group related features under subheadings.
3.  **Design System:** Elaborate on the design system, explaining the rationale behind the color choices and the implementation of glassmorphism.
4.  **Future Enhancements:** Brainstorm and add more creative and valuable ideas to the "TODO & Future Enhancements" section.
5.  **Tone and Style:** Ensure the entire document has a professional, polished, and consistent tone.

**Existing README.md content:**

{readme_content}

**Your refined and enhanced README.md:**
"""

        # Generate the enhanced content
        response = model.generate_content(prompt)

        # Save the enhanced content to a new file
        with open("/home/ubuntu/FashionMuseRN/README_Gemini.md", "w") as f:
            f.write(response.text)

        print("Enhanced README.md generated by Gemini and saved to /home/ubuntu/FashionMuseRN/README_Gemini.md")

    except Exception as e:
        print(f"An error occurred during Gemini generation: {e}")

if __name__ == "__main__":
    generate_readme()

